# Bonding, Teming, VLAN`s
1. Создаем между inetRouter  и centralRouter 2 линка и объединяем их в bond active-backup
2. Разводим сервера и клиенты(testClient1, testServer1 и testCleint2, testServer2) в centralOffice в разные VLAN)

Для проверки проекта:
1. Скачать каталог [lab-23](../lab-23)
2. Перейти в скачанный каталог и запустить vagrant up 

Проверка бондинга:

Бондинг(более новая тема это Teaming) в режиме active-backup  позволяет поднять резервный интерфейс, если другой упал, то есть   резервирование линка, есть и другие режимы работы. На скриншоте ниже я выключил сначала eth3 линк пропал, но связь нет. Потом вернул обратно и выключил eth2, связь не оборвалась. 

Как заметку оставлю:

**balance-rr**

Последовательно кидает пакеты, с первого по последний интерфейс.

**active-backup**

Один из интерфейсов активен. Если активный интерфейс выходит из строя (link down и т.д.), другой интерфейс заменяет активный. 
Не требует дополнительной настройки коммутатора.

**balance-xor**

Передачи распределяются между интерфейсами на основе формулы ((MAC-адрес источника) XOR (MAC-адрес получателя)) % число интерфейсов. Один и тот же интерфейс работает с определённым получателем. Режим даёт балансировку нагрузки и отказоустойчивость.

**broadcast**

Все пакеты на все интерфейсы

**802.3ad**

Link Agregation — IEEE 802.3ad, требует от коммутатора настройки.

**balance-tlb**

Входящие пакеты принимаются только активным сетевым интерфейсом, исходящий распределяется в зависимости от текущей загрузки каждого интерфейса. Не требует настройки коммутатора.

**balance-alb**

Тоже самое что 5, только входящий трафик тоже распределяется между интерфейсами. Не требует настройки коммутатора, но интерфейсы должны уметь изменять MAC.

Ну и конечный маршрутизатор/коммутатор, в случае когда это необходимо, должен быть настроен под выбранный режим.

![схема](./imgs/bonding.png)

vlan10 и vlan20 - link not ready, проверялось только при запущенных centralRouter и inetRouter
